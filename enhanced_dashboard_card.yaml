# Enhanced Dashboard Card showing your configuration

type: entities
title: üçé Apple Store Monitor
entities:
  - entity: sensor.apple_store_stock_available
    name: Items Available
    icon: mdi:apple
  - entity: binary_sensor.apple_store_stock_available
    name: Stock Status
    icon: mdi:check-circle
  - entity: sensor.apple_store_last_check
    name: Last Check
    icon: mdi:clock-outline
  - type: section
    label: Configuration
  - type: attribute
    entity: sensor.apple_store_stock_available
    attribute: monitoring_stores
    name: Stores Monitoring
    icon: mdi:store
  - type: attribute
    entity: sensor.apple_store_stock_available
    attribute: monitoring_products
    name: iPhone Models
    icon: mdi:cellphone
  - type: attribute
    entity: sensor.apple_store_stock_available
    attribute: check_interval_minutes
    name: Check Every (min)
    icon: mdi:timer
show_header_toggle: false

---

# Alternative: Detailed Card with Available Items
type: custom:auto-entities
card:
  type: entities
  title: üçé Apple Store Stock Details
  show_header_toggle: false
filter:
  template: |
    {% set available_items = state_attr('sensor.apple_store_stock_available', 'available_items') %}
    {% set stores = state_attr('sensor.apple_store_stock_available', 'monitoring_stores') %}
    {% set products = state_attr('sensor.apple_store_stock_available', 'monitoring_products') %}
    
    [
      {
        "entity": "sensor.apple_store_stock_available",
        "name": "üì± Items Available",
        "icon": "mdi:apple"
      },
      {
        "entity": "sensor.apple_store_last_check", 
        "name": "üïê Last Check",
        "icon": "mdi:clock"
      }
    ] +
    
    {% if stores %}
      [{
        "type": "section",
        "label": "üè™ Monitoring Stores"
      }] +
      {% for store in stores %}
        [{
          "type": "custom:template-entity-row",
          "entity": "sensor.apple_store_stock_available",
          "name": "{{ store }}",
          "icon": "mdi:store",
          "state": "Monitoring"
        }]{% if not loop.last %} + {% endif %}
      {% endfor %}
    {% else %}
      []
    {% endif %} +
    
    {% if products %}
      [{
        "type": "section", 
        "label": "üì± iPhone Models"
      }] +
      {% for product in products %}
        [{
          "type": "custom:template-entity-row",
          "entity": "sensor.apple_store_stock_available",
          "name": "{{ product.split(' ')[:3] | join(' ') }}",
          "icon": "mdi:cellphone",
          "state": "{{ product.split(' ')[3:] | join(' ') }}"
        }]{% if not loop.last %} + {% endif %}
      {% endfor %}
    {% else %}
      []
    {% endif %}